<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" type="text/css" media="screen">
	</head>
	<body>
    <script>
      
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser

		    for (var i = 0; i < window.geemails.length; i++) {

          //Creates a DIV ID called MailArea
          var mailArea = document.createElement('div');

          //Assigns MailArea class to 'emailLine'
          mailArea.className = "mailArea"; 

          //Adds the mailArea/emailLine div to the container
          container.appendChild(mailArea);

          //SUBJECT stuff
      		var displaySubject = document.createElement('div');
      		displaySubject.id = 'subject'.concat(i + '');
      		displaySubject.innerHTML = geemails[i].subject;
          displaySubject.addEventListener("click", toggle );
      		mailArea.appendChild(displaySubject);
      		
      	//SENDER stuff	
      		var displaySender = document.createElement('div');
      		displaySender.id = 'sender'.concat(i + '');
          displaySender.innerHTML = geemails[i].sender;
      		mailArea.appendChild(displaySender);

      	//DATE stuff
      		var displayDate = document.createElement('div');
      		displayDate.id = 'date'.concat(i + '');
          displayDate.innerHTML = geemails[i].date;
      		mailArea.appendChild(displayDate);
        
        //BODY stuff
      		var displayBody = document.createElement('div');
      		displayBody.id = 'body'.concat(i + '');
          displayBody.innerHTML = geemails[i].body;
          displayBody.classList.add('hidden');
      		mailArea.appendChild(displayBody);
        } //End of For
            
        //Get New Messages
		    function newMessages(){

          var mailArea = document.createElement('div');

          //Assigns MailArea class to 'emailLine'
          mailArea.className = "mailArea"; 

          //Adds the mailArea/emailLine div to the container
          container.appendChild(mailArea);
    
          //Randomizer
			    var random = window.geemails[Math.floor(Math.random() * window.geemails.length)];
		
		      //Subject - Get New Message
			    var displaySubject = document.createElement('div');
      		displaySubject.id = 'subject'.concat(i ++);
          displaySubject.innerHTML = random.subject;
          displaySubject.addEventListener("click", toggle );
      		mailArea.appendChild(displaySubject);

		      //Date - Get New Message
   			  var displayDate = document.createElement('div');
      		displayDate.id = 'date'.concat(i ++);
          displayDate.innerHTML = random.date;
      		mailArea.appendChild(displayDate);

		      //Sender - Get New Message
			    var displaySender = document.createElement('div');
      		displaySender.id = 'sender'.concat(i ++);
          displaySender.innerHTML = random.sender;
      		mailArea.appendChild(displaySender);

      	//Body - Get New Message	
      		var displayBody = document.createElement('div');
      		displayBody.id = 'body'.concat(i + '');
          displayBody.innerHTML = random.body;
          displayBody.classList.add('hidden');
      		mailArea.appendChild(displayBody);

        }  //End of New Messages

      setInterval(newMessages, 3000);

      //Show or Hide the Body of Messages 
      function toggle() {
        var bodyDiv = event.target.id.split("subject");
        console.log(event.target.id, "eventTarget iD");
        var showHide = document.getElementById('body'+ bodyDiv[1]);
        if (showHide.className === "hidden") {
          showHide.className = "unhidden-body";
        } else {
          showHide.className = "hidden";
          }
      }
    };  //End of Window Onload


    </script>
    </body>
       

		    <div id ="header">
			   <h1>GeeMail</h1>
		      </div>    
		    <div id="inbox">Inbox Count: </div>
      <div id="container"></div>

	</body>
</html>


